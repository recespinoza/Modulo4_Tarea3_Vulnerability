package testUI;

import org.junit.After;
import org.junit.Assert;
import org.junit.Before;
import org.junit.Test;
import pages.LoginPage;
import pages.MainPage;
import pages.StartPage;
import session.Session;


public class LoginTodoistTest {

    StartPage   startPage = new StartPage();
    LoginPage loginPage = new LoginPage();
    MainPage mainPage = new MainPage();

    @Before
    public void before(){
        Session.getInstance().getDriver().get("https://todoist.com/es/");
    }

    @Test
    public void verifyTheLoginUsingUserAndPassword() throws InterruptedException {

        startPage.startButton.click();
        loginPage.emailTextBox.type("rene@gmail.com");
        loginPage.passwordTextBox.type("ucb12345");
        loginPage.sessionCheckBox.click();
        loginPage.signupButton.submit();

        // Verification
        Thread.sleep(2000);
        Assert.assertTrue("ERROR , no se pudo realizar el login!", mainPage.messageText.isDisplayedOnPage());
    }

    @After
    public void after(){
       Session.getInstance().closeBrowser();
    }

}
